<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Critical Raw Materials</title>
    <style>
        body {
            font-family: sans-serif;
            margin: 0;
            padding: 20px;
            background-color: #f0f0f0; /* Light gray background for the entire page */
            display: flex;
            flex-direction: column;
            min-height: 100vh;
        }
        .header {
            text-align: center;
            padding-bottom: 20px;
        }
        .content-wrapper {
            display: flex;
            flex: 1;
        }
        .main-content {
            width: 70%;
            padding: 20px;
            background-color: white; /* White background for main content */
            box-sizing: border-box;
            border-radius: 8px; /* Optional: adds rounded corners */
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1); /* Optional: adds a subtle shadow */
        }
        .side-panel {
            width: 30%;
            padding: 20px;
            background-color: white; /* White background for side panel */
            box-sizing: border-box;
            border-radius: 8px; /* Optional: adds rounded corners */
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1); /* Optional: adds a subtle shadow */
            margin-left: 20px;
            display: flex;
            flex-direction: column;
            justify-content: space-between;
        }
        .controls {
            text-align: center;
            margin-bottom: 20px;
        }
        .container {
            display: flex;
            justify-content: center;
            flex-wrap: wrap;
        }
        .plot-container {
            margin: 10px;
            border: 1px solid #ccc;
            padding: 10px;
            width: 45%;
            box-sizing: border-box;
        }
        img {
            max-width: 100%;
            height: auto;
        }
        .side-panel h2 {
            margin-top: 0;
            text-align: center;
        }
        .link-container {
            text-align: center;
        }
        .side-panel ul {
            list-style-type: none;
            padding: 0;
            display: inline-block; /* Allows the container to shrink to the content's width */
            text-align: left; /* Aligns the list items to the left */
        }
        .side-panel li {
            margin-bottom: 10px;
        }
        .footer {
            padding: 20px;
            text-align: center;
            font-size: 0.9em;
            color: #555;
            border-top: 1px solid #ccc;
            margin-top: 20px;
        }
    </style>
</head>
<body>

    <div class="header">
        <h1>Strategic Raw Materials Network Comparator</h1>
    </div>

    <div class="content-wrapper">
        <div class="main-content">
            <div class="controls">
                <label for="crm1Select">Material 1:</label>
                <select id="crm1Select"></select>
                <label for="year1Select">Year 1:</label>
                <select id="year1Select"></select>
                <label for="crm2Select">Material 2:</label>
                <select id="crm2Select"></select>
                <label for="year2Select">Year 2:</label>
                <select id="year2Select"></select>
            </div>

            <div class="container">
                <div class="plot-container">
                    <h2 id="title1"></h2>
                    <img id="plot1" src="" alt="Network Plot 1">
                </div>
                <div class="plot-container">
                    <h2 id="title2"></h2>
                    <img id="plot2" src="" alt="Network Plot 2">
                </div>
            </div>
            
            <script>
                // Embed the plot data from R as a JavaScript object
                const plotData = {"2007":{"Aluminium":"crm_network_plots/Aluminium_2007.png","Antimony":"crm_network_plots/Antimony_2007.png","Arsenic":"crm_network_plots/Arsenic_2007.png","Barytes":"crm_network_plots/Barytes_2007.png","Beryllium":"crm_network_plots/Beryllium_2007.png","Bismuth":"crm_network_plots/Bismuth_2007.png","Borates":"crm_network_plots/Borates_2007.png","Cobalt":"crm_network_plots/Cobalt_2007.png","Coking coal":"crm_network_plots/Coking.coal_2007.png","Copper":"crm_network_plots/Copper_2007.png","Feldspar":"crm_network_plots/Feldspar_2007.png","Fluorspar":"crm_network_plots/Fluorspar_2007.png","Natural graphite":"crm_network_plots/Natural.graphite_2007.png","Lithium":"crm_network_plots/Lithium_2007.png","Magnesium":"crm_network_plots/Magnesium_2007.png","Manganese":"crm_network_plots/Manganese_2007.png","Nickel":"crm_network_plots/Nickel_2007.png","Niobium":"crm_network_plots/Niobium_2007.png","Phosphates":"crm_network_plots/Phosphates_2007.png","PMG (Platinum Metal Group)":"crm_network_plots/PMG..Platinum.Metal.Group._2007.png","Rare-earth elements":"crm_network_plots/Rare.earth.elements_2007.png","Silicon":"crm_network_plots/Silicon_2007.png","Strontium":"crm_network_plots/Strontium_2007.png","Tantalum":"crm_network_plots/Tantalum_2007.png","Titanium":"crm_network_plots/Titanium_2007.png","Tungsten":"crm_network_plots/Tungsten_2007.png","Vanadium":"crm_network_plots/Vanadium_2007.png"},"2008":{"Aluminium":"crm_network_plots/Aluminium_2008.png","Antimony":"crm_network_plots/Antimony_2008.png","Arsenic":"crm_network_plots/Arsenic_2008.png","Barytes":"crm_network_plots/Barytes_2008.png","Beryllium":"crm_network_plots/Beryllium_2008.png","Bismuth":"crm_network_plots/Bismuth_2008.png","Borates":"crm_network_plots/Borates_2008.png","Cobalt":"crm_network_plots/Cobalt_2008.png","Coking coal":"crm_network_plots/Coking.coal_2008.png","Copper":"crm_network_plots/Copper_2008.png","Feldspar":"crm_network_plots/Feldspar_2008.png","Fluorspar":"crm_network_plots/Fluorspar_2008.png","Natural graphite":"crm_network_plots/Natural.graphite_2008.png","Lithium":"crm_network_plots/Lithium_2008.png","Magnesium":"crm_network_plots/Magnesium_2008.png","Manganese":"crm_network_plots/Manganese_2008.png","Nickel":"crm_network_plots/Nickel_2008.png","Niobium":"crm_network_plots/Niobium_2008.png","Phosphates":"crm_network_plots/Phosphates_2008.png","PMG (Platinum Metal Group)":"crm_network_plots/PMG..Platinum.Metal.Group._2008.png","Rare-earth elements":"crm_network_plots/Rare.earth.elements_2008.png","Silicon":"crm_network_plots/Silicon_2008.png","Strontium":"crm_network_plots/Strontium_2008.png","Tantalum":"crm_network_plots/Tantalum_2008.png","Titanium":"crm_network_plots/Titanium_2008.png","Tungsten":"crm_network_plots/Tungsten_2008.png","Vanadium":"crm_network_plots/Vanadium_2008.png"},"2009":{"Aluminium":"crm_network_plots/Aluminium_2009.png","Antimony":"crm_network_plots/Antimony_2009.png","Arsenic":"crm_network_plots/Arsenic_2009.png","Barytes":"crm_network_plots/Barytes_2009.png","Beryllium":"crm_network_plots/Beryllium_2009.png","Bismuth":"crm_network_plots/Bismuth_2009.png","Borates":"crm_network_plots/Borates_2009.png","Cobalt":"crm_network_plots/Cobalt_2009.png","Coking coal":"crm_network_plots/Coking.coal_2009.png","Copper":"crm_network_plots/Copper_2009.png","Feldspar":"crm_network_plots/Feldspar_2009.png","Fluorspar":"crm_network_plots/Fluorspar_2009.png","Natural graphite":"crm_network_plots/Natural.graphite_2009.png","Lithium":"crm_network_plots/Lithium_2009.png","Magnesium":"crm_network_plots/Magnesium_2009.png","Manganese":"crm_network_plots/Manganese_2009.png","Nickel":"crm_network_plots/Nickel_2009.png","Niobium":"crm_network_plots/Niobium_2009.png","Phosphates":"crm_network_plots/Phosphates_2009.png","PMG (Platinum Metal Group)":"crm_network_plots/PMG..Platinum.Metal.Group._2009.png","Rare-earth elements":"crm_network_plots/Rare.earth.elements_2009.png","Silicon":"crm_network_plots/Silicon_2009.png","Strontium":"crm_network_plots/Strontium_2009.png","Tantalum":"crm_network_plots/Tantalum_2009.png","Titanium":"crm_network_plots/Titanium_2009.png","Tungsten":"crm_network_plots/Tungsten_2009.png","Vanadium":"crm_network_plots/Vanadium_2009.png"},"2010":{"Aluminium":"crm_network_plots/Aluminium_2010.png","Antimony":"crm_network_plots/Antimony_2010.png","Arsenic":"crm_network_plots/Arsenic_2010.png","Barytes":"crm_network_plots/Barytes_2010.png","Beryllium":"crm_network_plots/Beryllium_2010.png","Bismuth":"crm_network_plots/Bismuth_2010.png","Borates":"crm_network_plots/Borates_2010.png","Cobalt":"crm_network_plots/Cobalt_2010.png","Coking coal":"crm_network_plots/Coking.coal_2010.png","Copper":"crm_network_plots/Copper_2010.png","Feldspar":"crm_network_plots/Feldspar_2010.png","Fluorspar":"crm_network_plots/Fluorspar_2010.png","Natural graphite":"crm_network_plots/Natural.graphite_2010.png","Lithium":"crm_network_plots/Lithium_2010.png","Magnesium":"crm_network_plots/Magnesium_2010.png","Manganese":"crm_network_plots/Manganese_2010.png","Nickel":"crm_network_plots/Nickel_2010.png","Niobium":"crm_network_plots/Niobium_2010.png","Phosphates":"crm_network_plots/Phosphates_2010.png","PMG (Platinum Metal Group)":"crm_network_plots/PMG..Platinum.Metal.Group._2010.png","Rare-earth elements":"crm_network_plots/Rare.earth.elements_2010.png","Silicon":"crm_network_plots/Silicon_2010.png","Strontium":"crm_network_plots/Strontium_2010.png","Tantalum":"crm_network_plots/Tantalum_2010.png","Titanium":"crm_network_plots/Titanium_2010.png","Tungsten":"crm_network_plots/Tungsten_2010.png","Vanadium":"crm_network_plots/Vanadium_2010.png"},"2011":{"Aluminium":"crm_network_plots/Aluminium_2011.png","Antimony":"crm_network_plots/Antimony_2011.png","Arsenic":"crm_network_plots/Arsenic_2011.png","Barytes":"crm_network_plots/Barytes_2011.png","Beryllium":"crm_network_plots/Beryllium_2011.png","Bismuth":"crm_network_plots/Bismuth_2011.png","Borates":"crm_network_plots/Borates_2011.png","Cobalt":"crm_network_plots/Cobalt_2011.png","Coking coal":"crm_network_plots/Coking.coal_2011.png","Copper":"crm_network_plots/Copper_2011.png","Feldspar":"crm_network_plots/Feldspar_2011.png","Fluorspar":"crm_network_plots/Fluorspar_2011.png","Natural graphite":"crm_network_plots/Natural.graphite_2011.png","Lithium":"crm_network_plots/Lithium_2011.png","Magnesium":"crm_network_plots/Magnesium_2011.png","Manganese":"crm_network_plots/Manganese_2011.png","Nickel":"crm_network_plots/Nickel_2011.png","Niobium":"crm_network_plots/Niobium_2011.png","Phosphates":"crm_network_plots/Phosphates_2011.png","PMG (Platinum Metal Group)":"crm_network_plots/PMG..Platinum.Metal.Group._2011.png","Rare-earth elements":"crm_network_plots/Rare.earth.elements_2011.png","Silicon":"crm_network_plots/Silicon_2011.png","Strontium":"crm_network_plots/Strontium_2011.png","Tantalum":"crm_network_plots/Tantalum_2011.png","Titanium":"crm_network_plots/Titanium_2011.png","Tungsten":"crm_network_plots/Tungsten_2011.png","Vanadium":"crm_network_plots/Vanadium_2011.png"},"2012":{"Aluminium":"crm_network_plots/Aluminium_2012.png","Antimony":"crm_network_plots/Antimony_2012.png","Arsenic":"crm_network_plots/Arsenic_2012.png","Barytes":"crm_network_plots/Barytes_2012.png","Beryllium":"crm_network_plots/Beryllium_2012.png","Bismuth":"crm_network_plots/Bismuth_2012.png","Borates":"crm_network_plots/Borates_2012.png","Cobalt":"crm_network_plots/Cobalt_2012.png","Coking coal":"crm_network_plots/Coking.coal_2012.png","Copper":"crm_network_plots/Copper_2012.png","Feldspar":"crm_network_plots/Feldspar_2012.png","Fluorspar":"crm_network_plots/Fluorspar_2012.png","Natural graphite":"crm_network_plots/Natural.graphite_2012.png","Lithium":"crm_network_plots/Lithium_2012.png","Magnesium":"crm_network_plots/Magnesium_2012.png","Manganese":"crm_network_plots/Manganese_2012.png","Nickel":"crm_network_plots/Nickel_2012.png","Niobium":"crm_network_plots/Niobium_2012.png","Phosphates":"crm_network_plots/Phosphates_2012.png","PMG (Platinum Metal Group)":"crm_network_plots/PMG..Platinum.Metal.Group._2012.png","Rare-earth elements":"crm_network_plots/Rare.earth.elements_2012.png","Silicon":"crm_network_plots/Silicon_2012.png","Strontium":"crm_network_plots/Strontium_2012.png","Tantalum":"crm_network_plots/Tantalum_2012.png","Titanium":"crm_network_plots/Titanium_2012.png","Tungsten":"crm_network_plots/Tungsten_2012.png","Vanadium":"crm_network_plots/Vanadium_2012.png"},"2013":{"Aluminium":"crm_network_plots/Aluminium_2013.png","Antimony":"crm_network_plots/Antimony_2013.png","Arsenic":"crm_network_plots/Arsenic_2013.png","Barytes":"crm_network_plots/Barytes_2013.png","Beryllium":"crm_network_plots/Beryllium_2013.png","Bismuth":"crm_network_plots/Bismuth_2013.png","Borates":"crm_network_plots/Borates_2013.png","Cobalt":"crm_network_plots/Cobalt_2013.png","Coking coal":"crm_network_plots/Coking.coal_2013.png","Copper":"crm_network_plots/Copper_2013.png","Feldspar":"crm_network_plots/Feldspar_2013.png","Fluorspar":"crm_network_plots/Fluorspar_2013.png","Natural graphite":"crm_network_plots/Natural.graphite_2013.png","Lithium":"crm_network_plots/Lithium_2013.png","Magnesium":"crm_network_plots/Magnesium_2013.png","Manganese":"crm_network_plots/Manganese_2013.png","Nickel":"crm_network_plots/Nickel_2013.png","Niobium":"crm_network_plots/Niobium_2013.png","Phosphates":"crm_network_plots/Phosphates_2013.png","PMG (Platinum Metal Group)":"crm_network_plots/PMG..Platinum.Metal.Group._2013.png","Rare-earth elements":"crm_network_plots/Rare.earth.elements_2013.png","Silicon":"crm_network_plots/Silicon_2013.png","Strontium":"crm_network_plots/Strontium_2013.png","Tantalum":"crm_network_plots/Tantalum_2013.png","Titanium":"crm_network_plots/Titanium_2013.png","Tungsten":"crm_network_plots/Tungsten_2013.png","Vanadium":"crm_network_plots/Vanadium_2013.png"},"2014":{"Aluminium":"crm_network_plots/Aluminium_2014.png","Antimony":"crm_network_plots/Antimony_2014.png","Arsenic":"crm_network_plots/Arsenic_2014.png","Barytes":"crm_network_plots/Barytes_2014.png","Beryllium":"crm_network_plots/Beryllium_2014.png","Bismuth":"crm_network_plots/Bismuth_2014.png","Borates":"crm_network_plots/Borates_2014.png","Cobalt":"crm_network_plots/Cobalt_2014.png","Coking coal":"crm_network_plots/Coking.coal_2014.png","Copper":"crm_network_plots/Copper_2014.png","Feldspar":"crm_network_plots/Feldspar_2014.png","Fluorspar":"crm_network_plots/Fluorspar_2014.png","Natural graphite":"crm_network_plots/Natural.graphite_2014.png","Lithium":"crm_network_plots/Lithium_2014.png","Magnesium":"crm_network_plots/Magnesium_2014.png","Manganese":"crm_network_plots/Manganese_2014.png","Nickel":"crm_network_plots/Nickel_2014.png","Niobium":"crm_network_plots/Niobium_2014.png","Phosphates":"crm_network_plots/Phosphates_2014.png","PMG (Platinum Metal Group)":"crm_network_plots/PMG..Platinum.Metal.Group._2014.png","Rare-earth elements":"crm_network_plots/Rare.earth.elements_2014.png","Silicon":"crm_network_plots/Silicon_2014.png","Strontium":"crm_network_plots/Strontium_2014.png","Tantalum":"crm_network_plots/Tantalum_2014.png","Titanium":"crm_network_plots/Titanium_2014.png","Tungsten":"crm_network_plots/Tungsten_2014.png","Vanadium":"crm_network_plots/Vanadium_2014.png"},"2015":{"Aluminium":"crm_network_plots/Aluminium_2015.png","Antimony":"crm_network_plots/Antimony_2015.png","Arsenic":"crm_network_plots/Arsenic_2015.png","Barytes":"crm_network_plots/Barytes_2015.png","Beryllium":"crm_network_plots/Beryllium_2015.png","Bismuth":"crm_network_plots/Bismuth_2015.png","Borates":"crm_network_plots/Borates_2015.png","Cobalt":"crm_network_plots/Cobalt_2015.png","Coking coal":"crm_network_plots/Coking.coal_2015.png","Copper":"crm_network_plots/Copper_2015.png","Feldspar":"crm_network_plots/Feldspar_2015.png","Fluorspar":"crm_network_plots/Fluorspar_2015.png","Natural graphite":"crm_network_plots/Natural.graphite_2015.png","Lithium":"crm_network_plots/Lithium_2015.png","Magnesium":"crm_network_plots/Magnesium_2015.png","Manganese":"crm_network_plots/Manganese_2015.png","Nickel":"crm_network_plots/Nickel_2015.png","Niobium":"crm_network_plots/Niobium_2015.png","Phosphates":"crm_network_plots/Phosphates_2015.png","PMG (Platinum Metal Group)":"crm_network_plots/PMG..Platinum.Metal.Group._2015.png","Rare-earth elements":"crm_network_plots/Rare.earth.elements_2015.png","Silicon":"crm_network_plots/Silicon_2015.png","Strontium":"crm_network_plots/Strontium_2015.png","Tantalum":"crm_network_plots/Tantalum_2015.png","Titanium":"crm_network_plots/Titanium_2015.png","Tungsten":"crm_network_plots/Tungsten_2015.png","Vanadium":"crm_network_plots/Vanadium_2015.png"},"2016":{"Aluminium":"crm_network_plots/Aluminium_2016.png","Antimony":"crm_network_plots/Antimony_2016.png","Arsenic":"crm_network_plots/Arsenic_2016.png","Barytes":"crm_network_plots/Barytes_2016.png","Beryllium":"crm_network_plots/Beryllium_2016.png","Bismuth":"crm_network_plots/Bismuth_2016.png","Borates":"crm_network_plots/Borates_2016.png","Cobalt":"crm_network_plots/Cobalt_2016.png","Coking coal":"crm_network_plots/Coking.coal_2016.png","Copper":"crm_network_plots/Copper_2016.png","Feldspar":"crm_network_plots/Feldspar_2016.png","Fluorspar":"crm_network_plots/Fluorspar_2016.png","Natural graphite":"crm_network_plots/Natural.graphite_2016.png","Lithium":"crm_network_plots/Lithium_2016.png","Magnesium":"crm_network_plots/Magnesium_2016.png","Manganese":"crm_network_plots/Manganese_2016.png","Nickel":"crm_network_plots/Nickel_2016.png","Niobium":"crm_network_plots/Niobium_2016.png","Phosphates":"crm_network_plots/Phosphates_2016.png","PMG (Platinum Metal Group)":"crm_network_plots/PMG..Platinum.Metal.Group._2016.png","Rare-earth elements":"crm_network_plots/Rare.earth.elements_2016.png","Silicon":"crm_network_plots/Silicon_2016.png","Strontium":"crm_network_plots/Strontium_2016.png","Tantalum":"crm_network_plots/Tantalum_2016.png","Titanium":"crm_network_plots/Titanium_2016.png","Tungsten":"crm_network_plots/Tungsten_2016.png","Vanadium":"crm_network_plots/Vanadium_2016.png"},"2017":{"Aluminium":"crm_network_plots/Aluminium_2017.png","Antimony":"crm_network_plots/Antimony_2017.png","Arsenic":"crm_network_plots/Arsenic_2017.png","Barytes":"crm_network_plots/Barytes_2017.png","Beryllium":"crm_network_plots/Beryllium_2017.png","Bismuth":"crm_network_plots/Bismuth_2017.png","Borates":"crm_network_plots/Borates_2017.png","Cobalt":"crm_network_plots/Cobalt_2017.png","Coking coal":"crm_network_plots/Coking.coal_2017.png","Copper":"crm_network_plots/Copper_2017.png","Feldspar":"crm_network_plots/Feldspar_2017.png","Fluorspar":"crm_network_plots/Fluorspar_2017.png","Natural graphite":"crm_network_plots/Natural.graphite_2017.png","Lithium":"crm_network_plots/Lithium_2017.png","Magnesium":"crm_network_plots/Magnesium_2017.png","Manganese":"crm_network_plots/Manganese_2017.png","Nickel":"crm_network_plots/Nickel_2017.png","Niobium":"crm_network_plots/Niobium_2017.png","Phosphates":"crm_network_plots/Phosphates_2017.png","PMG (Platinum Metal Group)":"crm_network_plots/PMG..Platinum.Metal.Group._2017.png","Rare-earth elements":"crm_network_plots/Rare.earth.elements_2017.png","Silicon":"crm_network_plots/Silicon_2017.png","Strontium":"crm_network_plots/Strontium_2017.png","Tantalum":"crm_network_plots/Tantalum_2017.png","Titanium":"crm_network_plots/Titanium_2017.png","Tungsten":"crm_network_plots/Tungsten_2017.png","Vanadium":"crm_network_plots/Vanadium_2017.png"},"2018":{"Aluminium":"crm_network_plots/Aluminium_2018.png","Antimony":"crm_network_plots/Antimony_2018.png","Arsenic":"crm_network_plots/Arsenic_2018.png","Barytes":"crm_network_plots/Barytes_2018.png","Beryllium":"crm_network_plots/Beryllium_2018.png","Bismuth":"crm_network_plots/Bismuth_2018.png","Borates":"crm_network_plots/Borates_2018.png","Cobalt":"crm_network_plots/Cobalt_2018.png","Coking coal":"crm_network_plots/Coking.coal_2018.png","Copper":"crm_network_plots/Copper_2018.png","Feldspar":"crm_network_plots/Feldspar_2018.png","Fluorspar":"crm_network_plots/Fluorspar_2018.png","Natural graphite":"crm_network_plots/Natural.graphite_2018.png","Lithium":"crm_network_plots/Lithium_2018.png","Magnesium":"crm_network_plots/Magnesium_2018.png","Manganese":"crm_network_plots/Manganese_2018.png","Nickel":"crm_network_plots/Nickel_2018.png","Niobium":"crm_network_plots/Niobium_2018.png","Phosphates":"crm_network_plots/Phosphates_2018.png","PMG (Platinum Metal Group)":"crm_network_plots/PMG..Platinum.Metal.Group._2018.png","Rare-earth elements":"crm_network_plots/Rare.earth.elements_2018.png","Silicon":"crm_network_plots/Silicon_2018.png","Strontium":"crm_network_plots/Strontium_2018.png","Tantalum":"crm_network_plots/Tantalum_2018.png","Titanium":"crm_network_plots/Titanium_2018.png","Tungsten":"crm_network_plots/Tungsten_2018.png","Vanadium":"crm_network_plots/Vanadium_2018.png"},"2019":{"Aluminium":"crm_network_plots/Aluminium_2019.png","Antimony":"crm_network_plots/Antimony_2019.png","Arsenic":"crm_network_plots/Arsenic_2019.png","Barytes":"crm_network_plots/Barytes_2019.png","Beryllium":"crm_network_plots/Beryllium_2019.png","Bismuth":"crm_network_plots/Bismuth_2019.png","Borates":"crm_network_plots/Borates_2019.png","Cobalt":"crm_network_plots/Cobalt_2019.png","Coking coal":"crm_network_plots/Coking.coal_2019.png","Copper":"crm_network_plots/Copper_2019.png","Feldspar":"crm_network_plots/Feldspar_2019.png","Fluorspar":"crm_network_plots/Fluorspar_2019.png","Natural graphite":"crm_network_plots/Natural.graphite_2019.png","Lithium":"crm_network_plots/Lithium_2019.png","Magnesium":"crm_network_plots/Magnesium_2019.png","Manganese":"crm_network_plots/Manganese_2019.png","Nickel":"crm_network_plots/Nickel_2019.png","Niobium":"crm_network_plots/Niobium_2019.png","Phosphates":"crm_network_plots/Phosphates_2019.png","PMG (Platinum Metal Group)":"crm_network_plots/PMG..Platinum.Metal.Group._2019.png","Rare-earth elements":"crm_network_plots/Rare.earth.elements_2019.png","Silicon":"crm_network_plots/Silicon_2019.png","Strontium":"crm_network_plots/Strontium_2019.png","Tantalum":"crm_network_plots/Tantalum_2019.png","Titanium":"crm_network_plots/Titanium_2019.png","Tungsten":"crm_network_plots/Tungsten_2019.png","Vanadium":"crm_network_plots/Vanadium_2019.png"},"2020":{"Aluminium":"crm_network_plots/Aluminium_2020.png","Antimony":"crm_network_plots/Antimony_2020.png","Arsenic":"crm_network_plots/Arsenic_2020.png","Barytes":"crm_network_plots/Barytes_2020.png","Beryllium":"crm_network_plots/Beryllium_2020.png","Bismuth":"crm_network_plots/Bismuth_2020.png","Borates":"crm_network_plots/Borates_2020.png","Cobalt":"crm_network_plots/Cobalt_2020.png","Coking coal":"crm_network_plots/Coking.coal_2020.png","Copper":"crm_network_plots/Copper_2020.png","Feldspar":"crm_network_plots/Feldspar_2020.png","Fluorspar":"crm_network_plots/Fluorspar_2020.png","Natural graphite":"crm_network_plots/Natural.graphite_2020.png","Lithium":"crm_network_plots/Lithium_2020.png","Magnesium":"crm_network_plots/Magnesium_2020.png","Manganese":"crm_network_plots/Manganese_2020.png","Nickel":"crm_network_plots/Nickel_2020.png","Niobium":"crm_network_plots/Niobium_2020.png","Phosphates":"crm_network_plots/Phosphates_2020.png","PMG (Platinum Metal Group)":"crm_network_plots/PMG..Platinum.Metal.Group._2020.png","Rare-earth elements":"crm_network_plots/Rare.earth.elements_2020.png","Silicon":"crm_network_plots/Silicon_2020.png","Strontium":"crm_network_plots/Strontium_2020.png","Tantalum":"crm_network_plots/Tantalum_2020.png","Titanium":"crm_network_plots/Titanium_2020.png","Tungsten":"crm_network_plots/Tungsten_2020.png","Vanadium":"crm_network_plots/Vanadium_2020.png"},"2021":{"Aluminium":"crm_network_plots/Aluminium_2021.png","Antimony":"crm_network_plots/Antimony_2021.png","Arsenic":"crm_network_plots/Arsenic_2021.png","Barytes":"crm_network_plots/Barytes_2021.png","Beryllium":"crm_network_plots/Beryllium_2021.png","Bismuth":"crm_network_plots/Bismuth_2021.png","Borates":"crm_network_plots/Borates_2021.png","Cobalt":"crm_network_plots/Cobalt_2021.png","Coking coal":"crm_network_plots/Coking.coal_2021.png","Copper":"crm_network_plots/Copper_2021.png","Feldspar":"crm_network_plots/Feldspar_2021.png","Fluorspar":"crm_network_plots/Fluorspar_2021.png","Natural graphite":"crm_network_plots/Natural.graphite_2021.png","Lithium":"crm_network_plots/Lithium_2021.png","Magnesium":"crm_network_plots/Magnesium_2021.png","Manganese":"crm_network_plots/Manganese_2021.png","Nickel":"crm_network_plots/Nickel_2021.png","Niobium":"crm_network_plots/Niobium_2021.png","Phosphates":"crm_network_plots/Phosphates_2021.png","PMG (Platinum Metal Group)":"crm_network_plots/PMG..Platinum.Metal.Group._2021.png","Rare-earth elements":"crm_network_plots/Rare.earth.elements_2021.png","Silicon":"crm_network_plots/Silicon_2021.png","Strontium":"crm_network_plots/Strontium_2021.png","Tantalum":"crm_network_plots/Tantalum_2021.png","Titanium":"crm_network_plots/Titanium_2021.png","Tungsten":"crm_network_plots/Tungsten_2021.png","Vanadium":"crm_network_plots/Vanadium_2021.png"},"2022":{"Aluminium":"crm_network_plots/Aluminium_2022.png","Antimony":"crm_network_plots/Antimony_2022.png","Arsenic":"crm_network_plots/Arsenic_2022.png","Barytes":"crm_network_plots/Barytes_2022.png","Beryllium":"crm_network_plots/Beryllium_2022.png","Bismuth":"crm_network_plots/Bismuth_2022.png","Borates":"crm_network_plots/Borates_2022.png","Cobalt":"crm_network_plots/Cobalt_2022.png","Coking coal":"crm_network_plots/Coking.coal_2022.png","Copper":"crm_network_plots/Copper_2022.png","Feldspar":"crm_network_plots/Feldspar_2022.png","Fluorspar":"crm_network_plots/Fluorspar_2022.png","Natural graphite":"crm_network_plots/Natural.graphite_2022.png","Lithium":"crm_network_plots/Lithium_2022.png","Magnesium":"crm_network_plots/Magnesium_2022.png","Manganese":"crm_network_plots/Manganese_2022.png","Nickel":"crm_network_plots/Nickel_2022.png","Niobium":"crm_network_plots/Niobium_2022.png","Phosphates":"crm_network_plots/Phosphates_2022.png","PMG (Platinum Metal Group)":"crm_network_plots/PMG..Platinum.Metal.Group._2022.png","Rare-earth elements":"crm_network_plots/Rare.earth.elements_2022.png","Silicon":"crm_network_plots/Silicon_2022.png","Strontium":"crm_network_plots/Strontium_2022.png","Tantalum":"crm_network_plots/Tantalum_2022.png","Titanium":"crm_network_plots/Titanium_2022.png","Tungsten":"crm_network_plots/Tungsten_2022.png","Vanadium":"crm_network_plots/Vanadium_2022.png"}};
                
                const crm1Select = document.getElementById("crm1Select");
                const year1Select = document.getElementById("year1Select");
                const crm2Select = document.getElementById("crm2Select");
                const year2Select = document.getElementById("year2Select");
                const plot1 = document.getElementById("plot1");
                const plot2 = document.getElementById("plot2");
                const title1 = document.getElementById("title1");
                const title2 = document.getElementById("title2");
                
                const years = ['2007', '2015', '2022'];
                const crms = Object.keys(plotData[years[0]]).sort();
                
                function populateDropdowns() {
                    years.forEach(year => {
                        const yearOption1 = document.createElement("option");
                        yearOption1.value = year;
                        yearOption1.textContent = year;
                        year1Select.appendChild(yearOption1);
                
                        const yearOption2 = yearOption1.cloneNode(true);
                        year2Select.appendChild(yearOption2);
                    });
                
                    crms.forEach(crm => {
                        const crmOption1 = document.createElement("option");
                        crmOption1.value = crm;
                        crmOption1.textContent = crm;
                        crm1Select.appendChild(crmOption1);
                
                        const crmOption2 = crmOption1.cloneNode(true);
                        crm2Select.appendChild(crmOption2);
                    });
                
                    if (years.length > 0) {
                        year1Select.value = years[0];
                        year2Select.value = years[years.length - 1];
                    }
                    if (crms.length > 1) {
                        crm1Select.value = crms[0];
                        crm2Select.value = crms[1];
                    }
                }
                
                function updatePlots() {
                    const selectedCrm1 = crm1Select.value;
                    const selectedYear1 = year1Select.value;
                    const selectedCrm2 = crm2Select.value;
                    const selectedYear2 = year2Select.value;
                
                    title1.textContent = selectedCrm1 + " Trade Network: Year " + selectedYear1;
                    title2.textContent = selectedCrm2 + " Trade Network: Year " + selectedYear2;
                
                    if (plotData[selectedYear1] && plotData[selectedYear1][selectedCrm1]) {
                        const filePath1 = plotData[selectedYear1][selectedCrm1];
                        plot1.src = filePath1;
                    } else {
                        plot1.src = "";
                        title1.textContent = "No data available for " + selectedCrm1 + " in " + selectedYear1;
                    }
                
                    if (plotData[selectedYear2] && plotData[selectedYear2][selectedCrm2]) {
                        const filePath2 = plotData[selectedYear2][selectedCrm2];
                        plot2.src = filePath2;
                    } else {
                        plot2.src = "";
                        title2.textContent = "No data available for " + selectedCrm2 + " in " + selectedYear2;
                    }
                }
                
                if (years.length > 0 && crms.length > 0) {
                    populateDropdowns();
                    updatePlots();
                    crm1Select.addEventListener("change", updatePlots);
                    year1Select.addEventListener("change", updatePlots);
                    crm2Select.addEventListener("change", updatePlots);
                    year2Select.addEventListener("change", updatePlots);
                } else {
                    document.body.innerHTML = "<h1>No network data available.</h1>";
                }
            </script>
        </div>

        <div class="side-panel">
            <h2>Online Appendix</h2>
            <div class="link-container">
                <ul>
                    <li><a href="crm_summary_and_uses_table.html">#1 CRM HS6 Codes</a></li>
                    <li><a href="liststable.html">#2 Institutional CRM List Comparison</a></li>
                    <li><a href="combined_tb2.html">#3 Network Centralities</a></li>
                    <li><a href="abbreviations.html">#4 Abbreviations</a></li>
                </ul>
            </div>
        </div>
    </div>
    
    <div class="footer">
        <p>The trade networks illustrate the Top 20 exporters to the EU by import value for each material, along with their Top 3 suppliers (capturing the “z-country effect”). Communities are identified using the Louvain algorithm, which groups nodes based on dense interconnections. In the context of trade, these communities highlight blocs of economic alignment, regional agreements, or geopolitical alliances. Data source: BACI, HS6 digit level.</p>
        <p>Created by Fernanda Chima. Last updated: August 20, 2025</p>
    </div>

</body>
</html>
